{"version":3,"sources":["webpack:///webpack/bootstrap 4daf9c059c1a3ad44c32","webpack:///./lib/js/util.js","webpack:///./lib/js/moving_object.js","webpack:///./lib/js/input.js","webpack:///./lib/js/player.js","webpack:///./lib/js/main.js","webpack:///./lib/js/game.js","webpack:///./lib/js/enemy.js","webpack:///./lib/js/coin.js"],"names":["Util","div","face","pos","outerDivClass","$","addPos","pos1","pos2","newFacePos","oldFace","row","col","map","wrap","co","num","getFace","hRot","Math","floor","pickRand","arr","random","length","mod","base","inSamePos","obj1","obj2","turnCubeToFace","cube","data","modRot","rotDiff","vAngle","newAngle","turnCubeToAngle","vRot","css","rotateCube","oldhRot","oldvRot","newhRot","newvRot","centerOnObj","obj","objPos","rotationAmount","cellRotations","setTimeout","module","exports","require","Player","MovingObject","options","cell","addClass","constructor","name","direction","oldPos","newPos","FACE_RELATIONS","newFace","rowVel","colVel","Input","key","hdeg","vdeg","player","includes","move","DIRECTION_ROTATIONS","Game","document","addEventListener","$cube","$score","$level","bindCubeKeys","$playButton","$newGameButton","$gridLineToggle","$autoRotateToggle","game","draw","on","display","start","stop","text","bind","$cells","event","currentTarget","getAttribute","removeAttribute","setAttribute","Enemy","Coin","players","enemies","coins","score","level","enemySpeed","stopStepInterval","stopEnemyMoveInterval","addPlayer","addEnemies","addCoins","object","push","coinPositions","i","add","coin","splice","indexOf","randFace","randRow","randCol","newCoin","spawnCoin","enemyPositions","concat","forEach","enemy","removeCoin","beginNewLevel","LEVELS","removeClass","allObjects","console","log","detectCollision","bindMoveKeys","setInterval","step","moveEnemies","clearInterval","e1","e2","e3","e4","e5","e6","e7","e8","e9","e10","e11","e12","e13","e14","e15","e16","e17","e18","e19","e20","e21","e22","e23","e24","e25","e26","e27","e28","e29","e30","e31","e32","e33"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4daf9c059c1a3ad44c32","const Util = {\n\n  div(face, pos) {\n    const outerDivClass = face;\n    return $(`.${outerDivClass} .${\"inner-\" + pos[0] + \"-\" + pos[1]}`);\n  },\n\n  addPos(pos1, pos2) {\n    return [pos1[0]+pos2[0], pos1[1]+pos2[1]];\n  },\n\n  //holds rules for converting position based on face\n  newFacePos(oldFace, pos) {\n    let row = pos[0];\n    let col = pos[1];\n    switch (oldFace) {\n      case \"front\":\n        return pos.map(co=> Util.wrap(co) );\n      case \"left\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [col, 0];\n        } else if (row > 2) {\n          return [-col + 2, 0]\n        }\n        else {\n          return pos;\n        }\n      case \"right\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [-col + 2, 2]\n        } else if (row > 2) {\n          return [col, 2]\n        }\n        else {\n          return pos;\n        }\n      case \"back\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [0, -col + 2]\n        } else if (row > 2) {\n          return [2, -col + 2]\n        }\n        else {\n          return pos;\n        }\n      case \"top\":\n        if(col < 0) {\n          return [0, row];\n        } else if (col > 2) {\n          return [0, -row +2]\n        }\n        else if (row < 0) {\n          return [0, -col + 2]\n        } else if (row > 2) {\n          return [0, col]\n        }\n        else {\n          return pos;\n        }\n      case \"bottom\":\n        if(col < 0) {\n          return [2, -row +2];\n        } else if (col > 2) {\n          return [2, row]\n        }\n        else if (row < 0) {\n          return [2, col]\n        } else if (row > 2) {\n          return [2, -col + 2]\n        }\n        else {\n          return pos;\n        }\n      default:\n        throw \"invalid face\";\n\n    }\n  },\n  //Just a simplified mod 3 funtion that handles negatives until -6\n  wrap(num) {\n    return (num + 6) % 3;\n  },\n  //Handles wrapping for rotation (just mod by 360, div 90)\n  getFace(hRot) {\n    return Math.floor((((hRot % 360) + 360) % 360)/90);\n  },\n\n  pickRand(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n  },\n\n  //gen purpose mod\n  mod(num, base) {\n    return ((num % base) + base) % base;\n  },\n\n  inSamePos(obj1, obj2) {\n    if(obj1.face == obj2.face && obj1.pos[0] == obj2.pos[0] && obj1.pos[1] == obj2.pos[1]) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  turnCubeToFace(cube,face) {\n    //to prevent a ton of wrapping, we want to get the cube's current rotation and not rotate more than 360\n    //take the cube's rotation mod 360, get the difference between that and the desired angle, and add that to the cube's actual rotation\n\n    const hRot = cube.data('h-rot');\n    const modRot = hRot%360;\n    let rotDiff = 0;\n    let vAngle = 0\n    switch (face) {\n      case \"front\":\n        rotDiff = modRot - 0;\n        break;\n      case \"back\":\n        rotDiff = modRot - 180;\n        break;\n      case \"left\":\n        rotDiff = modRot - 90;\n        break;\n      case \"right\":\n        rotDiff = modRot + 90;\n        break;\n        case \"top\":\n          vAngle = -45;\n        break;\n      case \"bottom\":\n          vAngle = 45;\n        break;\n      case 'startAngle':\n        rotDiff = modRot - 45;\n        break;\n      case 'newLevelAngle':\n        rotDiff = modRot - 45;\n        vAngle = -45;\n        break;\n      default:\n        throw \"invalid face\";\n    }\n\n    const newAngle = hRot - rotDiff;\n    Util.turnCubeToAngle(cube, newAngle, vAngle);\n  },\n\n  turnCubeToAngle(cube, hRot, vRot){\n    cube.data('h-rot', hRot);\n    cube.data('v-rot', vRot);\n    cube.css(\"-webkit-transform\", \"rotateX(\"+vRot+\"deg) rotateY(\"+hRot+\"deg)\")\n  },\n\n  rotateCube(cube, hRot, vRot){\n    const oldhRot = cube.data('h-rot');\n    const oldvRot = cube.data('v-rot');\n\n    const newhRot = oldhRot + hRot;\n    const newvRot = oldvRot + vRot;\n\n    cube.data('h-rot', newhRot);\n    cube.data('v-rot', newvRot);\n    cube.css(\"-webkit-transform\", \"rotateX(\"+newvRot+\"deg) rotateY(\"+newhRot+\"deg)\");\n  },\n\n  centerOnObj(cube, obj) {\n    const objPos = obj.pos;\n    Util.turnCubeToFace(cube, obj.face);\n    //do top and bottom differently\n    if(obj.face == 'top' || obj.face == 'bottom') {\n      return\n    }\n\n    const rotationAmount = cellRotations[objPos[0]][objPos[1]];\n    setTimeout(()=>Util.rotateCube(cube,rotationAmount[0],rotationAmount[1]));\n\n  }\n\n};\n\nconst cellRotations = [\n  [[45,-45],[0,-45],[-45,-45]],\n  [[45,0],[0,0],[-45,0]],\n  [[45,45],[0,45],[-45,45]]\n];\n\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/util.js","const Util = require (\"./util\");\nconst Player = require ('./player');\n\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.face = options.face;\n  }\n\n  //find the div corresponding to the pos and give it class player\n  draw() {\n    const cell = Util.div(this.face, this.pos);\n    cell.addClass(this.constructor.name);\n  }\n\n  move(direction) {\n    let oldPos = this.pos;\n    let newPos = Util.addPos(this.pos, direction);\n    let oldFace = this.face;\n\n    //if newPos contains a -1 or a 3, we need to change faces\n    //i use less than and greater than to catch -2 or 4 etc. We'll only have the player move once though.\n    if(newPos[0] < 0) {\n      this.face = FACE_RELATIONS[this.face][\"up\"];\n    }\n    if(newPos[0] > 2) {\n      this.face = FACE_RELATIONS[this.face][\"down\"];\n    }\n    if(newPos[1] < 0) {\n      this.face = FACE_RELATIONS[this.face][\"left\"];\n    }\n    if(newPos[1] > 2) {\n      this.face = FACE_RELATIONS[this.face][\"right\"];\n    }\n\n    newPos = Util.newFacePos(oldFace, newPos);\n    let newFace = this.face;\n    //if this is an enemy, we need to change its velocity so it wraps properly\n    if(this.constructor.name == \"Enemy\" && oldFace != newFace) {\n      //if leaving or entering a top or bottom face, we need to change vel\n      let rowVel = this.direction[0];\n      let colVel = this.direction[1];\n      if(oldFace == \"top\") {\n        this.direction = [1,0];\n      } else if (oldFace ==\"bottom\") {\n        this.direction = [-1,0];\n      }\n      else if (newFace == \"top\") {\n        switch (oldFace) {\n          case \"front\":\n            this.direction = [-1,0];\n            break;\n          case \"left\":\n            this.direction = [0,1];\n            break;\n          case \"right\":\n            this.direction = [0,-1];\n            break;\n          case \"back\":\n            this.direction = [1,0];\n            break;\n          default:\n            throw \"invalid face\";\n        }\n      } else if (newFace == \"bottom\") {\n          switch (oldFace) {\n            case \"front\":\n              this.direction = [1,0];\n              break;\n            case \"left\":\n              this.direction = [0,1];\n              break;\n            case \"right\":\n              this.direction = [0,-1];\n              break;\n            case \"back\":\n              this.direction = [-1,0];\n              break;\n            default:\n              throw \"invalid face\";\n          }\n      }\n\n    }\n\n    this.pos = newPos;\n\n  }\n\n\n\n}\n\nconst FACE_RELATIONS = {\n  \"front\": {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"back\":  {\n    \"left\": \"right\",\n    \"right\": \"left\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"left\":  {\n    \"left\": \"back\",\n    \"right\": \"front\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"right\":  {\n    \"left\": \"front\",\n    \"right\": \"back\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"top\":  {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"back\",\n    \"down\": \"front\"\n  },\n\n  \"bottom\":  {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"front\",\n    \"down\": \"back\"\n  }\n};\n\nmodule.exports = MovingObject;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/moving_object.js","const Util = require (\"./util\");\n\nclass Input {\n  constructor() {\n\n  }\n\n  static bindCubeKeys(cube) {\n\n    cube.data('h-rot', 45);\n    cube.data('v-rot', 0);\n\n    key(\"w\", function(){\n      //Stop early if the bottom face is already shown\n      if(cube.data('v-rot') === 45) {\n        return;\n      }\n      var hdeg = cube.data('h-rot');\n      var vdeg = cube.data('v-rot') + 45;\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('v-rot', vdeg);\n    });\n\n\n    key(\"a\", function(){\n      var hdeg = cube.data('h-rot') - 45;\n      var vdeg = cube.data('v-rot');\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('h-rot', hdeg);\n    });\n\n\n    key(\"d\", function(){\n      var hdeg = cube.data('h-rot') + 45;\n      var vdeg = cube.data('v-rot');\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('h-rot', hdeg);\n    });\n\n\n    key(\"s\", function(){\n      //Stop early if the top face is already shown\n\n      if(cube.data('v-rot') === -45) {\n        return;\n      }\n\n      var hdeg = cube.data('h-rot');\n      var vdeg = cube.data('v-rot') - 45;\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('v-rot', vdeg);\n    });\n  }\n\n  //I want to change this to change keys according to rotation of the cube\n  //code is tricky to read, but basically DIRECTION_ROTATIONS is an array of move directions that is in an order corresponding to the order I would rotate the directions depending on what face I'm on.  Thus I can just set keys inputs based on getting the index in the array of directions offset by the face I'm on.  For bottom, this face offset will just go through the array backwards, so I do -face.  For ex: if I have rotated once to the right face, the face offset will be 3.  Right arrow will correspond to whatever direction is 3 in front of it in the array, which is the starting up direction.\n\n  static bindMoveKeys(player, cube) {\n\n    key(\"space\", function(){\n      //Stop early if the bottom face is already shown\n      Util.turnCubeToFace(cube, player.face);\n    });\n\n    key(\"left\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 3),4)]);\n      } else {\n        player.move([0,-1]);\n      }\n\n    });\n\n    key(\"right\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 1),4)]);\n      } else {\n        player.move([0,1]);\n      }\n    });\n\n    key(\"up\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face),4)]);\n      } else {\n        player.move([-1,0]);\n      }\n    });\n\n    key(\"down\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 2),4)]);\n      } else {\n        player.move([1,0]);\n      }\n    });\n\n  }\n\n}\n\n//up, right, down, left\nconst DIRECTION_ROTATIONS = [[-1,0],[0,1],[1,0],[0,-1]];\n\n\n\nmodule.exports = Input;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/input.js","const MovingObject = require (\"./moving_object\");\n\n\nclass Player extends MovingObject {\n  constructor(options) {\n    super(options);\n  }\n\n}\n\nmodule.exports = Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/player.js","const Input = require ('./input');\nconst Game = require ('./game');\nconst Util = require ('./util');\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  const $cube = $('.cube');\n  const $score = $(\"#score\");\n  const $level = $(\"#level\");\n  Input.bindCubeKeys($cube);\n\n  const $playButton = $('[name=\"play-button\"]');\n  const $newGameButton = $('[name=\"new-game-button\"]');\n  const $gridLineToggle = $('[name=\"gridlines-button\"]');\n  const $autoRotateToggle = $('[name=\"auto-rotate-button\"]');\n\n  let game = new Game({$cube: $cube, $score: $score, $newGameButton: $newGameButton, $level: $level, $autoRotateToggle: $autoRotateToggle});\n  game.draw();\n\n\n\n  $playButton.on(\"click\", event => {\n    $playButton.css( {display: \"none\"} );\n    game.start();\n  });\n\n  $newGameButton.on(\"click\", event => {\n    //stop old game\n    game.stop();\n    $newGameButton.css({display: \"none\"});\n\n    //create a new game, draw it, and start it\n    game = new Game({$cube: $cube, $score: $score, $newGameButton: $newGameButton, $level: $level, $autoRotateToggle: $autoRotateToggle});\n    $level.text(\"0\");\n\n    Util.turnCubeToFace($cube, 'startAngle');\n    //\n    // $cube.data('h-rot', 45);\n    // $cube.data('v-rot', 0);\n    // $cube.css(\"-webkit-transform\", \"rotateX(0deg) rotateY(45deg)\");\n\n    game.draw();\n    setTimeout(game.start.bind(game), 2000);\n  });\n\n  //button to do gridlines\n  const $cells = $('.side div div');\n  $gridLineToggle.on(\"click\", event => {\n    if (event.currentTarget.getAttribute('selected')) {\n      event.currentTarget.removeAttribute('selected');\n      $cells.css('border', \"none\");\n    } else {\n      event.currentTarget.setAttribute('selected', 'selected');\n      $cells.css('border', \"1px solid black\");\n    }\n  });\n\n  $autoRotateToggle.on(\"click\", event => {\n    if (event.currentTarget.getAttribute('selected')) {\n      event.currentTarget.removeAttribute('selected');\n    } else {\n      event.currentTarget.setAttribute('selected', 'selected');\n    }\n  });\n\n  //button for AutoRotate\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","const Player = require ('./player');\nconst Enemy = require ('./enemy');\nconst Coin = require ('./coin');\nconst Util = require ('./util');\nconst Input = require ('./input');\n\nclass Game {\n  constructor(options) {\n    this.$cube = options.$cube;\n    this.players = [];\n    this.enemies = [];\n    this.coins = [];\n    this.score = 0;\n    this.level = 0;\n\n    this.$score = options.$score;\n    this.$newGameButton = options.$newGameButton;\n    this.$level = options.$level\n    this.$autoRotateToggle = options.$autoRotateToggle;\n\n    this.enemySpeed = 1000;\n\n    this.stopStepInterval = null;\n    this.stopEnemyMoveInterval = null;\n\n    this.addPlayer();\n    this.addEnemies([[\"front\",[0,0],[0,1]],[\"front\",[2,0],[0,1]]]);\n    this.addCoins([[\"front\",[0,2]]]);\n  }\n\n  add(object) {\n    if (object instanceof Player) {\n      this.players.push(object);\n    } else if (object instanceof Enemy) {\n      this.enemies.push(object);\n    } else if (object instanceof Coin) {\n      this.coins.push(object);\n    } else {\n      throw \"unknown type of object\";\n    }\n  }\n\n\n  addCoins(coinPositions) {\n    for (let i = 0; i < coinPositions.length; i++) {\n      this.add(new Coin({face: coinPositions[i][0], pos: coinPositions[i][1]}));\n    }\n  }\n\n  //remove any coins at the player's position\n  removeCoin(coin) {\n    this.coins.splice(this.coins.indexOf(coin), 1)\n  }\n\n  removeObject(obj) {\n    if (object instanceof Player) {\n      this.players.splice(this.players.indexOf(obj),1);\n    } else if (object instanceof Enemy) {\n      this.enemies.splice(this.enemies.indexOf(obj), 1)\n    } else if (object instanceof Coin) {\n      this.coins.splice(this.coins.indexOf(obj), 1)\n    } else {\n      throw \"unknown type of object\";\n    }\n  }\n\n  spawnCoin() {\n    const randFace = Util.pickRand([\"top\",\"bottom\",\"front\",\"back\",\"left\",\"right\"]);\n    const randRow = Util.pickRand([0,1,2]);\n    const randCol = Util.pickRand([0,1,2]);\n    let newCoin = new Coin({face: randFace, pos: [randRow,randCol]});\n    //dont let coin spawn on top of player\n    if(Util.inSamePos(this.players[0], newCoin)) {\n      this.spawnCoin();\n      return;\n    }\n\n    this.add(newCoin);\n  }\n\n  addEnemies(enemyPositions) {\n    for (let i = 0; i < enemyPositions.length; i++) {\n      this.add(new Enemy({face: enemyPositions[i][0], pos: enemyPositions[i][1], direction: enemyPositions[i][2]}));\n    }\n  }\n\n  addPlayer() {\n   const player = new Player({\n     face: \"front\",\n     pos: [1,1]\n   });\n\n   this.add(player);\n\n   return player;\n }\n\n allObjects() {\n   return [].concat(this.players, this.enemies, this.coins);\n }\n\n  //looks at all coins and enemies and checks their position against the player's position\n  detectCollision(player) {\n\n    this.enemies.forEach(enemy => {\n      if(Util.inSamePos(enemy, player)) {\n        this.stop();\n        Util.turnCubeToFace(this.$cube, this.players[0].face);\n        this.draw();\n        this.$newGameButton.css( {display: \"block\"} );\n      }\n    });\n\n    this.coins.forEach(coin => {\n      if(Util.inSamePos(coin, player)) {\n        this.removeCoin(coin);\n        this.score += 1;\n        //only spawn coin if score is not a multiple of 10\n        if(this.score % 10 == 0) {\n          this.level += 1;\n          this.beginNewLevel(LEVELS[this.level % LEVELS.length]);\n        } else {\n          this.spawnCoin();\n        }\n\n      }\n    });\n  }\n\n  //iterates through all objects and gives the divs at the corresponding positions classes\n  draw() {\n    //remove all obj classes from the divs\n    $('div').removeClass(\"Player\");\n    $('div').removeClass(\"Enemy\");\n    $('div').removeClass(\"Coin\");\n\n    this.$score.text(`${this.score}`);\n\n    // if(this.$autoRotateToggle.attr('selected')) {\n    //   Util.centerOnObj(this.$cube,this.players[0]);\n    // }\n\n    //add classes to the relevant divs\n    this.allObjects().forEach((object) => {\n      object.draw();\n    });\n  }\n\n  //iterates through enemies and updates its position\n  moveEnemies() {\n    console.log(\"moving enemies!\");\n    this.enemies.forEach((enemy)=> {\n      enemy.move(enemy.direction);\n    });\n  }\n\n  //levels are objects with a list of enemies, enemy speeds, etc.\n  beginNewLevel(level) {\n    this.stop();\n    this.players = [];\n    if(this.level % LEVELS.length == 0 && this.level != 0) {\n      this.enemySpeed = this.enemySpeed*(4/5);\n    }\n    //first need to remove enemies and player\n    this.enemies = [];\n    //then add the new enemies\n    level.enemies.forEach(enemy => {\n      this.add(enemy);\n    });\n    //then reset player position and camera to center\n    this.$cube.css(\"-webkit-transition\", \"all 2s ease-in-out\");\n    Util.turnCubeToFace(this.$cube, 'newLevelAngle');\n    //disable wasd while cube rotating to new level angle\n    setTimeout(()=>this.$cube.css(\"-webkit-transition\", \"all .3s ease-in-out\"),2000);\n\n    this.addPlayer();\n\n    //spawn a coin\n    this.spawnCoin();\n    this.draw();\n    //display some level beginning signal? then start after a certain time\n    this.$level.text(`${this.level}`);\n    setTimeout(this.start.bind(this),4000);\n  }\n\n  //draws, then handles collisions\n  step() {\n    this.draw();\n    this.detectCollision(this.players[0]);\n  }\n\n  start() {\n    Input.bindMoveKeys(this.players[0], this.$cube);\n    this.stopStepInterval = setInterval(this.step.bind(this),50);\n    this.stopEnemyMoveInterval = setInterval(this.moveEnemies.bind(this),this.enemySpeed);\n  }\n\n  stop() {\n    clearInterval(this.stopStepInterval);\n    clearInterval(this.stopEnemyMoveInterval);\n  }\n\n\n}\n\n//First level: Two parallel enemies, same direction\nlet e1 = new Enemy({face: \"front\", pos: [0,0], direction:[0,1]});\nlet e2 = new Enemy({face: \"front\", pos: [2,0], direction:[0,1]});\n//Second level: Two perpendicular enemies, one across, one top/bottom\nlet e3 = new Enemy({face: \"left\", pos: [0,1], direction:[0,1]});\nlet e4 = new Enemy({face: \"top\", pos: [1,1], direction:[1,0]});\n\n//Third level, enemies wrapping all three directions on cube\nlet e5 = new Enemy({face: \"left\", pos: [1,0], direction:[0,1]});\nlet e6 = new Enemy({face: \"bottom\", pos: [0,1], direction:[1,0]});\nlet e7 = new Enemy({face: \"left\", pos: [0,2], direction:[1,0]});\n\n//fourth level: enemies form walls in pairs\nlet e8 = new Enemy({face: \"right\", pos: [0,0], direction:[0,-1]});\nlet e9 = new Enemy({face: \"right\", pos: [2,0], direction:[0,-1]});\nlet e10 = new Enemy({face: \"left\", pos: [0,2], direction:[0,1]});\nlet e11 = new Enemy({face: \"left\", pos: [0,1], direction:[0,1]});\n\n//fifth level: three diamonds\nlet e12 = new Enemy({face: \"left\", pos: [0,1], direction:[0,1]});\nlet e13 = new Enemy({face: \"left\", pos: [1,0], direction:[0,1]});\nlet e14 = new Enemy({face: \"left\", pos: [1,2], direction:[0,1]});\nlet e15 = new Enemy({face: \"left\", pos: [2,1], direction:[0,1]});\nlet e16 = new Enemy({face: \"right\", pos: [0,1], direction:[0,1]});\nlet e17 = new Enemy({face: \"right\", pos: [1,0], direction:[0,1]});\nlet e18 = new Enemy({face: \"right\", pos: [1,2], direction:[0,1]});\nlet e19 = new Enemy({face: \"right\", pos: [2,1], direction:[0,1]});\nlet e20 = new Enemy({face: \"top\", pos: [0,1], direction:[0,-1]});\nlet e21 = new Enemy({face: \"top\", pos: [1,0], direction:[0,-1]});\nlet e22 = new Enemy({face: \"top\", pos: [1,2], direction:[0,-1]});\nlet e23 = new Enemy({face: \"top\", pos: [2,1], direction:[0,-1]});\n\n//6th: random 2 enemies on all faces except front\nlet e24 = new Enemy({face: \"left\", pos: [1,2], direction:[0,-1]});\nlet e25 = new Enemy({face: \"left\", pos: [0,2], direction:[2,1]});\nlet e26 = new Enemy({face: \"right\", pos: [1,2], direction:[1,1]});\nlet e27 = new Enemy({face: \"right\", pos: [1,0], direction:[0,-1]});\nlet e28 = new Enemy({face: \"top\", pos: [1,0], direction:[0,-1]});\nlet e29 = new Enemy({face: \"top\", pos: [1,1], direction:[-1,0]});\nlet e30 = new Enemy({face: \"bottom\", pos: [0,1], direction:[0,-1]});\nlet e31 = new Enemy({face: \"bottom\", pos: [2,1], direction:[0,-1]});\nlet e32 = new Enemy({face: \"back\", pos: [2,0], direction:[1,0]});\nlet e33 = new Enemy({face: \"back\", pos: [2,1], direction:[0,-1]});\n\n\nconst LEVELS = [\n  {enemies: [e1,e2]},\n  {enemies: [e3,e4]},\n  {enemies: [e5,e6,e7]},\n  {enemies: [e8,e9,e10,e11]},\n  {enemies: [e12,e13,e14,e15,e16,e17,e18,e19,e20,e21,e22,e23]},\n\n];\n\n\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/game.js","const MovingObject = require(\"./moving_object\");\nconst Util = require(\"./util\");\n\nclass Enemy extends MovingObject {\n  constructor(options) {\n    super(options);\n    this.direction = options.direction || [-1,0];\n  }\n\n\n}\n\nmodule.exports = Enemy;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/enemy.js","const MovingObject = require(\"./moving_object\");\n\nclass Coin  extends MovingObject {\n  constructor(options) {\n    super(options)\n  }\n}\n\nmodule.exports = Coin;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/coin.js"],"sourceRoot":""}