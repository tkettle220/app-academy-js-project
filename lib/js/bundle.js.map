{"version":3,"sources":["webpack:///webpack/bootstrap 20fd828363746884e0f2","webpack:///./lib/js/main.js","webpack:///./lib/js/input.js","webpack:///./lib/js/game.js","webpack:///./lib/js/player.js","webpack:///./lib/js/util.js","webpack:///./lib/js/enemy.js","webpack:///./lib/js/coin.js","webpack:///./lib/js/moving_object.js"],"names":["Input","require","Game","document","addEventListener","cube","$","bindCubeKeys","game","player","players","bindMoveKeys","start","Util","data","key","hdeg","vdeg","css","includes","face","getFace","move","DIRECTION_ROTATIONS","mod","module","exports","Player","Enemy","Coin","enemies","coins","enemySpeed","addPlayer","addEnemies","object","push","coinPositions","i","length","add","pos","enemyPositions","concat","forEach","inSamePos","enemy","console","log","coin","removeClass","allObjects","draw","direction","detectCollision","setInterval","step","bind","moveEnemies","MovingObject","options","div","outerDivClass","addPos","pos1","pos2","newFacePos","oldFace","row","col","map","wrap","co","num","hRot","Math","floor","base","obj1","obj2","cell","addClass","constructor","name","oldPos","newPos","FACE_RELATIONS","newFace","rowVel","colVel"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 20fd828363746884e0f2","const Input = require ('./input');\nconst Game = require ('./game');\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const cube = $('.cube');\n  Input.bindCubeKeys(cube);\n  const game = new Game();\n  const player = game.players[0];\n  Input.bindMoveKeys(player, cube);\n  game.start();\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","const Util = require (\"./util\");\n\nclass Input {\n  constructor() {\n\n  }\n\n  static bindCubeKeys(cube) {\n\n    cube.data('h-rot', 45);\n    cube.data('v-rot', 0);\n\n\n    key(\"w\", function(){\n      //Stop early if the bottom face is already shown\n      if(cube.data('v-rot') === 45) {\n        return;\n      }\n      var hdeg = cube.data('h-rot');\n      var vdeg = cube.data('v-rot') + 45;\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('v-rot', vdeg);\n    });\n\n\n    key(\"a\", function(){\n      var hdeg = cube.data('h-rot') - 45;\n      var vdeg = cube.data('v-rot');\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('h-rot', hdeg);\n    });\n\n\n    key(\"d\", function(){\n      var hdeg = cube.data('h-rot') + 45;\n      var vdeg = cube.data('v-rot');\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('h-rot', hdeg);\n    });\n\n\n    key(\"s\", function(){\n      //Stop early if the top face is already shown\n\n      if(cube.data('v-rot') === -45) {\n        return;\n      }\n\n      var hdeg = cube.data('h-rot');\n      var vdeg = cube.data('v-rot') - 45;\n\n      cube.css(\"-webkit-transform\", \"rotateX(\"+vdeg+\"deg) rotateY(\"+hdeg+\"deg)\");\n\n      cube.data('v-rot', vdeg);\n    });\n  }\n\n  //I want to change this to change keys according to rotation of the cube\n  //code is tricky to read, but basically DIRECTION_ROTATIONS is an array of move directions that is in an order corresponding to the order I would rotate the directions depending on what face I'm on.  Thus I can just set keys inputs based on getting the index in the array of directions offset by the face I'm on.  For bottom, this face offset will just go through the array backwards, so I do -face.  For ex: if I have rotated once to the right face, the face offset will be 3.  Right arrow will correspond to whatever direction is 3 in front of it in the array, which is the starting up direction.\n\n  static bindMoveKeys(player, cube) {\n\n    key(\"left\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 3),4)]);\n      } else {\n        player.move([0,-1]);\n      }\n\n    });\n\n    key(\"right\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 1),4)]);\n      } else {\n        player.move([0,1]);\n      }\n    });\n\n    key(\"up\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face),4)]);\n      } else {\n        player.move([-1,0]);\n      }\n    });\n\n    key(\"down\", function(){\n      if([\"top\",\"bottom\"].includes(player.face)) {\n        let face = Util.getFace(cube.data('h-rot'));\n        if(player.face == \"bottom\") {\n          face = -face;\n        }\n        player.move(DIRECTION_ROTATIONS[Util.mod((face + 2),4)]);\n      } else {\n        player.move([1,0]);\n      }\n    });\n\n  }\n\n}\n\n//up, right, down, left\nconst DIRECTION_ROTATIONS = [[-1,0],[0,1],[1,0],[0,-1]];\n\n\n\nmodule.exports = Input;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/input.js","const Player = require ('./player');\nconst Enemy = require ('./enemy');\nconst Coin = require ('./coin');\nconst Util = require ('./util');\n\nclass Game {\n  constructor() {\n    this.players = [];\n    this.enemies = [];\n    this.coins = [];\n\n    this.enemySpeed = 500;\n\n    this.addPlayer();\n    this.addEnemies([[\"front\",[0,1]]]);\n  }\n\n  add(object) {\n    if (object instanceof Player) {\n      this.players.push(object);\n    } else if (object instanceof Enemy) {\n      this.enemies.push(object);\n    } else if (object instanceof Coin) {\n      this.coins.push(object);\n    } else {\n      throw \"unknown type of object\";\n    }\n  }\n\n\n  addCoins(coinPositions) {\n    for (let i = 0; i < coinPositions.length; i++) {\n      this.add(new Coin({face: coinPositions[i][0], pos: coinPositions[i][1]}));\n    }\n  }\n\n  addEnemies(enemyPositions) {\n    for (let i = 0; i < enemyPositions.length; i++) {\n      this.add(new Enemy({face: enemyPositions[i][0], pos: enemyPositions[i][1]}));\n    }\n  }\n\n  addPlayer() {\n   const player = new Player({\n     face: \"front\",\n     pos: [1,1]\n   });\n\n   this.add(player);\n\n   return player;\n }\n\n allObjects() {\n   return [].concat(this.players, this.enemies, this.coins);\n }\n\n  //looks at all coins and enemies and checks their position against the player's position\n  detectCollision(player) {\n\n    this.enemies.forEach(enemy => {\n      if(Util.inSamePos(enemy, player)) {\n        console.log(\"ENEMY COLLISION\");\n      }\n    });\n\n    this.coins.forEach(coin => {\n      if(Util.inSamePos(coin, player)) {\n        console.log(\"COIN COLLECTED AWYEA\");\n      }\n    });\n  }\n\n  //iterates through all objects and gives the divs at the corresponding positions classes\n  draw() {\n    //remove all obj classes from the divs\n    $('div').removeClass(\"Player\");\n    $('div').removeClass(\"Enemy\");\n    $('div').removeClass(\"Coin\");\n    //add classes to the relevant divs\n    this.allObjects().forEach((object) => {\n      object.draw();\n    });\n  }\n\n  //iterates through enemies and updates its position\n  moveEnemies() {\n    this.enemies.forEach((enemy)=> {\n      enemy.move(enemy.direction);\n    });\n  }\n\n  //draws, then handles collisions\n  step() {\n    this.draw();\n    this.detectCollision(this.players[0]);\n  }\n\n  start() {\n    setInterval(this.step.bind(this),50);\n    setInterval(this.moveEnemies.bind(this),this.enemySpeed);\n  }\n\n\n}\n\n\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/game.js","const MovingObject = require (\"./moving_object\");\n\n\nclass Player extends MovingObject {\n  constructor(options) {\n    super(options);\n  }\n\n}\n\nmodule.exports = Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/player.js","const Util = {\n\n  div(face, pos) {\n    const outerDivClass = face;\n    return $(`.${outerDivClass} .${\"inner-\" + pos[0] + \"-\" + pos[1]}`);\n  },\n\n  addPos(pos1, pos2) {\n    return [pos1[0]+pos2[0], pos1[1]+pos2[1]];\n  },\n\n  //holds rules for converting position based on face\n  newFacePos(oldFace, pos) {\n    let row = pos[0];\n    let col = pos[1];\n    switch (oldFace) {\n      case \"front\":\n        return pos.map(co=> Util.wrap(co) );\n      case \"left\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [col, 0];\n        } else if (row > 2) {\n          return [-col + 2, 0]\n        }\n        else {\n          return pos;\n        }\n      case \"right\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [-col + 2, 2]\n        } else if (row > 2) {\n          return [col, 2]\n        }\n        else {\n          return pos;\n        }\n      case \"back\":\n        if(col < 0 || col > 2) {\n          return [row, Util.wrap(col)];\n        } else if (row < 0) {\n          return [0, -col + 2]\n        } else if (row > 2) {\n          return [2, -col + 2]\n        }\n        else {\n          return pos;\n        }\n      case \"top\":\n        if(col < 0) {\n          return [0, row];\n        } else if (col > 2) {\n          return [0, -row +2]\n        }\n        else if (row < 0) {\n          return [0, -col + 2]\n        } else if (row > 2) {\n          return [0, col]\n        }\n        else {\n          return pos;\n        }\n      case \"bottom\":\n        if(col < 0) {\n          return [2, -row +2];\n        } else if (col > 2) {\n          return [2, row]\n        }\n        else if (row < 0) {\n          return [2, col]\n        } else if (row > 2) {\n          return [2, -col + 2]\n        }\n        else {\n          return pos;\n        }\n      default:\n        throw \"invalid face\";\n\n    }\n  },\n  //Just a simplified mod 3 funtion that handles negatives until -6\n  wrap(num) {\n    return (num + 6) % 3;\n  },\n  //Handles wrapping for rotation (just mod by 360, div 90)\n  getFace(hRot) {\n    return Math.floor((((hRot % 360) + 360) % 360)/90);\n  },\n\n  //gen purpose mod\n  mod(num, base) {\n    return ((num % base) + base) % base;\n  },\n\n  inSamePos(obj1, obj2) {\n    if(obj1.face == obj2.face && obj1.pos[0] == obj2.pos[0] && obj1.pos[1] == obj2.pos[1]) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n};\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/util.js","const MovingObject = require(\"./moving_object\");\nconst Util = require(\"./util\");\n\nclass Enemy extends MovingObject {\n  constructor(options) {\n    super(options);\n    this.direction = options.direction || [-1,0];\n  }\n\n\n}\n\nmodule.exports = Enemy;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/enemy.js","class Coin {\n  constructor() {\n\n  }\n}\n\nmodule.exports = Coin;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/coin.js","const Util = require (\"./util\");\nconst Player = require ('./player');\n\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.face = options.face;\n  }\n\n  //find the div corresponding to the pos and give it class player\n  draw() {\n    const cell = Util.div(this.face, this.pos);\n    cell.addClass(this.constructor.name);\n  }\n\n  move(direction) {\n    let oldPos = this.pos;\n    let newPos = Util.addPos(this.pos, direction);\n    let oldFace = this.face;\n\n    //if newPos contains a -1 or a 3, we need to change faces\n    //i use less than and greater than to catch -2 or 4 etc. We'll only have the player move once though.\n    if(newPos[0] < 0) {\n      this.face = FACE_RELATIONS[this.face][\"up\"];\n    }\n    if(newPos[0] > 2) {\n      this.face = FACE_RELATIONS[this.face][\"down\"];\n    }\n    if(newPos[1] < 0) {\n      this.face = FACE_RELATIONS[this.face][\"left\"];\n    }\n    if(newPos[1] > 2) {\n      this.face = FACE_RELATIONS[this.face][\"right\"];\n    }\n\n    newPos = Util.newFacePos(oldFace, newPos);\n    let newFace = this.face;\n    //if this is an enemy, we need to change its velocity so it wraps properly\n    if(this.constructor.name == \"Enemy\" && oldFace != newFace) {\n      //if leaving or entering a top or bottom face, we need to change vel\n      let rowVel = this.direction[0];\n      let colVel = this.direction[1];\n      if(oldFace == \"top\") {\n        this.direction = [1,0];\n      } else if (oldFace ==\"bottom\") {\n        this.direction = [-1,0];\n      }\n      else if (newFace == \"top\") {\n        switch (oldFace) {\n          case \"front\":\n            this.direction = [-1,0];\n            break;\n          case \"left\":\n            this.direction = [0,1];\n            break;\n          case \"right\":\n            this.direction = [0,-1];\n            break;\n          case \"back\":\n            this.direction = [1,0];\n            break;\n          default:\n            throw \"invalid face\";\n        }\n      } else if (newFace == \"bottom\") {\n          switch (oldFace) {\n            case \"front\":\n              this.direction = [1,0];\n              break;\n            case \"left\":\n              this.direction = [0,1];\n              break;\n            case \"right\":\n              this.direction = [0,-1];\n              break;\n            case \"back\":\n              this.direction = [-1,0];\n              break;\n            default:\n              throw \"invalid face\";\n          }\n      }\n\n    }\n\n    this.pos = newPos;\n\n  }\n\n\n\n}\n\nconst FACE_RELATIONS = {\n  \"front\": {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"back\":  {\n    \"left\": \"right\",\n    \"right\": \"left\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"left\":  {\n    \"left\": \"back\",\n    \"right\": \"front\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"right\":  {\n    \"left\": \"front\",\n    \"right\": \"back\",\n    \"up\": \"top\",\n    \"down\": \"bottom\"\n  },\n\n  \"top\":  {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"back\",\n    \"down\": \"front\"\n  },\n\n  \"bottom\":  {\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"up\": \"front\",\n    \"down\": \"back\"\n  }\n};\n\nmodule.exports = MovingObject;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/moving_object.js"],"sourceRoot":""}